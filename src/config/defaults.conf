#!/bin/bash
# ==============================================================================
# TAVS - Terminal Agent Visual Signals ‚Äî Master Defaults
# ==============================================================================
# Single source of truth for all configuration.
#
# Structure:
#   1. Global settings (apply to all agents)
#   2. Default colors (fallback when agent has no specific colors)
#   3. Agent-specific settings (AGENT_PREFIX_ variables)
#   4. Unknown agent fallback
#
# Override Priority: User (~/.tavs/user.conf) > This file
# ==============================================================================

# ==============================================================================
# RUNTIME DISABLE (Environment Variable)
# ==============================================================================
# Set TAVS_STATUS=false to disable visual signals at runtime.
# Recognized disabled values (case-insensitive): false, 0, off, no, disabled
# This is an environment variable, not a config option.

# ==============================================================================
# GLOBAL SETTINGS
# ==============================================================================
# These apply to all agents unless overridden with AGENT_PREFIX_ variables.

# Operating Mode
# Options: "static" (hardcoded colors), "dynamic" (query terminal), "preset"
THEME_MODE="static"

# For preset mode, specify which preset to use
# Available: catppuccin-latte, catppuccin-frappe, catppuccin-macchiato, catppuccin-mocha
#            nord, dracula, solarized-dark, solarized-light, tokyo-night
THEME_PRESET=""

# ==============================================================================
# LIGHT/DARK MODE SETTINGS
# ==============================================================================
#
# ENABLE_LIGHT_DARK_SWITCHING - Detect system light/dark mode automatically
#   "false" - (Default) Always use dark backgrounds
#   "true"  - Switch between light/dark based on system appearance (macOS/Linux)
#
# FORCE_MODE - Override auto-detection with explicit mode
#   "auto"  - (Default) Use auto-detection if enabled, otherwise dark
#   "dark"  - Always use dark mode colors
#   "light" - Always use light mode colors
#
# TRUECOLOR_MODE_OVERRIDE - Special handling for TrueColor terminals
#   TrueColor terminals (COLORTERM=truecolor) have their own color schemes.
#   This setting controls whether TAVS should respect that or override it.
#
#   "off"   - (Default) In TrueColor, skip auto dark mode and always use dark.
#             This respects your terminal's color scheme.
#   "muted" - Allow light/dark switching but use muted colors (reduced contrast).
#             Muted dark is lighter, muted light is darker - they converge.
#   "full"  - Allow light/dark switching with regular colors (may clash with
#             your terminal's color scheme).
#
# How these settings interact:
#   1. FORCE_MODE="dark" or "light" always wins (explicit override)
#   2. If ENABLE_LIGHT_DARK_SWITCHING="false", always dark mode
#   3. If ENABLE_LIGHT_DARK_SWITCHING="true" and in TrueColor:
#      - TRUECOLOR_MODE_OVERRIDE="off"   ‚Üí dark mode (respects terminal)
#      - TRUECOLOR_MODE_OVERRIDE="muted" ‚Üí auto-detect with muted colors
#      - TRUECOLOR_MODE_OVERRIDE="full"  ‚Üí auto-detect with regular colors
#   4. If ENABLE_LIGHT_DARK_SWITCHING="true" and NOT in TrueColor:
#      - Always auto-detect system mode
#
ENABLE_LIGHT_DARK_SWITCHING="false"
FORCE_MODE="auto"
TRUECOLOR_MODE_OVERRIDE="off"

# Feature Toggles
ENABLE_BACKGROUND_CHANGE="true"
ENABLE_TITLE_PREFIX="true"
ENABLE_PROCESSING="true"
ENABLE_PERMISSION="true"
ENABLE_COMPLETE="true"
ENABLE_IDLE="true"
ENABLE_COMPACTING="true"
ENABLE_SUBAGENT="true"       # NEW: Visual feedback when Task tool spawns subagents
ENABLE_TOOL_ERROR="true"     # NEW: Visual feedback on tool execution failures

# ==============================================================================
# TERMINAL TITLE MODE
# ==============================================================================
# Controls how TAVS handles terminal tab titles when used with Claude Code.
# Claude Code sets its own animated spinner title during processing.
#
# Options:
#   "full"            - TAVS owns all titles including processing
#                       (requires CLAUDE_CODE_DISABLE_TERMINAL_TITLE=1 in Claude settings)
#   "prefix-only"     - TAVS adds face+emoji prefix, preserves user's base title
#                       (best for users who name their tabs)
#   "skip-processing" - Let Claude Code handle processing titles, TAVS handles others (DEFAULT)
#                       (safe default, no conflict with Claude's spinner)
#   "off"             - No title changes at all, only colors/backgrounds
TAVS_TITLE_MODE="skip-processing"

# ==============================================================================
# TITLE BASE FALLBACK
# ==============================================================================
# When no user-set title is detected, TAVS uses a fallback for the base title.
#
# Options:
#   "session-path" - Session ID prefix + path: "134eed79 ~/projects"
#   "path-session" - Path + session ID suffix: "~/projects 134eed79"
#   "session"      - Session ID only: "134eed79"
#   "path"         - Path only (current behavior): "~/projects"
TAVS_TITLE_FALLBACK="path"

# ==============================================================================
# TITLE FORMAT TEMPLATE
# ==============================================================================
# Customize the title composition. Placeholders:
#   {FACE}         - Agent face (e.g., "∆é[‚Ä¢ ‚Ä¢]E")
#   {STATUS_ICON}  - State status icon (e.g., "üü†")
#   {AGENTS}       - Active subagent count (e.g., "+2") - empty when none
#   {SESSION_ICON} - Session icon (e.g., "üêô") - unique per terminal tab, empty when disabled
#   {BASE}         - Base title (user-set or fallback)
#
# Examples:
#   "{FACE} {STATUS_ICON} {AGENTS} {SESSION_ICON} {BASE}" -> "∆é[‚Ä¢ ‚Ä¢]E üü† +2 üêô ~/project" (default)
#   "{FACE} {STATUS_ICON} {AGENTS} {SESSION_ICON}"        -> "∆é[‚Ä¢ ‚Ä¢]E üü† +2 üêô" (no path)
#   "{STATUS_ICON} {SESSION_ICON} {BASE}"                  -> "üü† üêô ~/project" (minimal)
#   "{FACE} {STATUS_ICON} {AGENTS} {BASE}"                 -> "∆é[‚Ä¢ ‚Ä¢]E üü† +2 ~/project" (no icon)
TAVS_TITLE_FORMAT="{FACE} {STATUS_ICON} {AGENTS} {SESSION_ICON} {BASE}"

# Subagent count format in title. {N} = count number.
# Only shown when count > 0. Empty string = hide counter entirely.
# Examples: "+{N}" (concise), "+{N} subagents" (verbose), "({N})" (parens)
TAVS_AGENTS_FORMAT="+{N}"

# ==============================================================================
# SESSION ICONS
# ==============================================================================
# Unique animal emoji per terminal tab for visual session identification.
# Each tab gets a random icon from the pool, avoiding duplicates across
# active sessions. Icons persist across /clear (tied to TTY, not session ID).
#
# Options:
#   ENABLE_SESSION_ICONS - "true" (default) or "false"
#   TAVS_SESSION_ICONS   - Bash array of emoji to use as icons
ENABLE_SESSION_ICONS="true"
TAVS_SESSION_ICONS=(
    "üêô" "üê≥" "ü™≤" "ü¶â" "üê¢" "ü¶ä" "üêò" "ü¶ã" "üê¨" "ü¶ë"
    "üê®" "ü¶≠" "üêå" "ü™º" "ü¶î" "üê∏" "üêß" "ü¶©" "üêû" "ü¶é"
    "üê°" "ü¶ö" "üê™" "ü¶•" "üêº"
)

# ==============================================================================
# COMPACT FACE MODE
# ==============================================================================
# Replace text-based eyes with emoji. State info (color + subagent count)
# is embedded directly in the face, making titles shorter and more expressive.
#
# Standard:  ∆é[‚Ä¢ ‚Ä¢]E üü† +2 ü¶ä ~/proj
# Compact:   ∆é[üü† +2]E ü¶ä ~/proj
#
# Options:
#   TAVS_FACE_MODE    - "standard" (default) | "compact"
#   TAVS_COMPACT_THEME - "semantic" | "circles" | "squares" | "mixed"
# ==============================================================================
TAVS_FACE_MODE="standard"
TAVS_COMPACT_THEME="semantic"

# --- Semantic theme (default) - Meaningful emoji per state ---
# Format: "left right" pairs, randomly selected per trigger
COMPACT_SEMANTIC_PROCESSING=('üü† üü†' 'üüß üü†' 'üüß üüß' 'üß° üß°')
COMPACT_SEMANTIC_PERMISSION=('üî¥ üî¥' 'üü• ‚≠ï' '‚≠ï ‚≠ï' 'üü• üü•')
COMPACT_SEMANTIC_COMPLETE=('‚úÖ ‚úÖ' 'üü¢ üü¢' 'üü¢ ‚úÖ' 'üü© üü©')
COMPACT_SEMANTIC_SUBAGENT=('üî∂ üî∂' 'üü° üü°' 'üíõ üíõ' 'üî∏ üî∏')
COMPACT_SEMANTIC_TOOL_ERROR=('‚ùå ‚ùå' '‚ùå ‚≠ï' '‚õî ‚õî' 'üî¥ ‚ùå')
COMPACT_SEMANTIC_COMPACTING=('‚ôªÔ∏è ‚ôªÔ∏è' 'üîÑ üîÑ' 'üîÉ ‚ôªÔ∏è')
COMPACT_SEMANTIC_IDLE_0=('üü¢ üü¢')
COMPACT_SEMANTIC_IDLE_1=('üü£ üü£')
COMPACT_SEMANTIC_IDLE_2=('üü£ üü£' 'üíú üü£')
COMPACT_SEMANTIC_IDLE_3=('üí§ üü£')
COMPACT_SEMANTIC_IDLE_4=('üí§ üí§')
COMPACT_SEMANTIC_IDLE_5=('üí§ üí§' 'üåô üí§')
COMPACT_SEMANTIC_RESET=('‚ö™ ‚ö™')

# --- Circles theme - Uniform round emoji ---
COMPACT_CIRCLES_PROCESSING=('üü† üü†')
COMPACT_CIRCLES_PERMISSION=('üî¥ üî¥')
COMPACT_CIRCLES_COMPLETE=('üü¢ üü¢')
COMPACT_CIRCLES_SUBAGENT=('üü° üü°')
COMPACT_CIRCLES_TOOL_ERROR=('‚≠ï ‚≠ï')
COMPACT_CIRCLES_COMPACTING=('üîµ üîµ')
COMPACT_CIRCLES_IDLE_0=('üü¢ üü¢')
COMPACT_CIRCLES_IDLE_1=('üü£ üü£')
COMPACT_CIRCLES_IDLE_2=('üü£ üü£')
COMPACT_CIRCLES_IDLE_3=('üü£ üü£')
COMPACT_CIRCLES_IDLE_4=('üü£ üü£')
COMPACT_CIRCLES_IDLE_5=('üü£ üü£')
COMPACT_CIRCLES_RESET=('‚ö™ ‚ö™')

# --- Squares theme - Bold block emoji ---
COMPACT_SQUARES_PROCESSING=('üüß üüß')
COMPACT_SQUARES_PERMISSION=('üü• üü•')
COMPACT_SQUARES_COMPLETE=('üü© üü©')
COMPACT_SQUARES_SUBAGENT=('üü® üü®')
COMPACT_SQUARES_TOOL_ERROR=('üü• üü•')
COMPACT_SQUARES_COMPACTING=('üü¶ üü¶')
COMPACT_SQUARES_IDLE_0=('üü© üü©')
COMPACT_SQUARES_IDLE_1=('üü™ üü™')
COMPACT_SQUARES_IDLE_2=('üü™ üü™')
COMPACT_SQUARES_IDLE_3=('üü™ üü™')
COMPACT_SQUARES_IDLE_4=('üü™ üü™')
COMPACT_SQUARES_IDLE_5=('üü™ üü™')
COMPACT_SQUARES_RESET=('‚¨ú ‚¨ú')

# --- Mixed theme - Asymmetric pairs by default ---
COMPACT_MIXED_PROCESSING=('üüß üü†' 'üü† üüß' 'üß° üü†')
COMPACT_MIXED_PERMISSION=('üü• ‚≠ï' 'üî¥ üü•' '‚≠ï üî¥')
COMPACT_MIXED_COMPLETE=('‚úÖ üü¢' 'üü¢ ‚úÖ' 'üü© üü¢')
COMPACT_MIXED_SUBAGENT=('üî∂ üü°' 'üü° üî∂' 'üíõ üî∏')
COMPACT_MIXED_TOOL_ERROR=('‚ùå ‚≠ï' 'üî¥ ‚ùå' '‚õî üî¥')
COMPACT_MIXED_COMPACTING=('‚ôªÔ∏è üîÑ' 'üîÑ ‚ôªÔ∏è')
COMPACT_MIXED_IDLE_0=('üü¢ üü£')
COMPACT_MIXED_IDLE_1=('üü£ üíú')
COMPACT_MIXED_IDLE_2=('üíú üü£')
COMPACT_MIXED_IDLE_3=('üí§ üü£')
COMPACT_MIXED_IDLE_4=('üí§ üí§')
COMPACT_MIXED_IDLE_5=('üåô üí§')
COMPACT_MIXED_RESET=('‚ö™ ‚¨ú')

# ==============================================================================
# USER TITLE OVERRIDE BEHAVIOR
# ==============================================================================
# How TAVS behaves when it detects a user-set title.
#
# Options:
#   "prefix" - Add face+emoji prefix, keep user's base (recommended)
#   "full"   - Completely respect user title (no changes at all)
#   "ignore" - Always overwrite user title (current legacy behavior)
TAVS_RESPECT_USER_TITLE="prefix"

# ==============================================================================
# TITLE COMPONENT TOGGLES
# ==============================================================================
# Fine-grained control over what appears in the title.
TAVS_TITLE_SHOW_FACE="true"     # Include face in title
TAVS_TITLE_SHOW_STATUS_ICON="true"    # Include status icon in title
TAVS_TITLE_SHOW_SESSION="true"  # Include session ID in fallback
TAVS_TITLE_SHOW_PATH="true"     # Include path in fallback

# ==============================================================================
# SPINNER CONFIGURATION (for TAVS_TITLE_MODE="full")
# ==============================================================================
# When TAVS owns the processing title, these settings control the spinner animation.

# Spinner Style - which animation pattern to use for eyes
# Options: "braille", "circle", "block", "eye-animate", "none", "random"
#   braille     - Rotating dots ‚†ã ‚†ô ‚†π ‚†∏ (Claude-style)
#   circle      - Filling circles ‚óã ‚óî ‚óë ‚óï ‚óè
#   block       - Pulsing vertical bars ‚ñÅ ‚ñÇ ‚ñÉ ‚ñÑ ‚ñÖ ‚ñÜ ‚ñá ‚ñà
#   eye-animate - Random eye characters from variety pool
#   none        - Use existing face variants (no spinner animation)
#   random      - Random selection per session (recommended)
TAVS_SPINNER_STYLE="random"

# Eye Synchronization Mode - how the two "eyes" in the face animate
# Options: "sync", "opposite", "stagger", "clockwise", "counter", "mirror", "mirror_inv", "random"
#   sync       - Both eyes show same frame
#   opposite   - Eyes half-cycle apart (left/right half-filled)
#   stagger    - Left eye leads, right follows (2 frames behind)
#   clockwise  - Both rotate clockwise (braille)
#   counter    - Both rotate counter-clockwise (braille)
#   mirror     - Left increases while right decreases
#   mirror_inv - Left decreases while right increases
#   random     - Random selection per session (recommended)
TAVS_SPINNER_EYE_MODE="random"

# Session Identity - maintain consistent visual identity per session
# When true, random selections are made once at SessionStart and maintained
# throughout the session for consistent visual "personality"
TAVS_SESSION_IDENTITY="true"

# Spinner Frame Definitions
# Clockwise braille rotation
TAVS_SPINNER_FRAMES_BRAILLE=("‚†ã" "‚†ô" "‚†π" "‚†∏" "‚†º" "‚†¥" "‚†¶" "‚†ß" "‚†á" "‚†è")
# Counter-clockwise (reversed)
TAVS_SPINNER_FRAMES_BRAILLE_CCW=("‚†è" "‚†á" "‚†ß" "‚†¶" "‚†¥" "‚†º" "‚†∏" "‚†π" "‚†ô" "‚†ã")
# Circle filling/emptying
TAVS_SPINNER_FRAMES_CIRCLE=("‚óã" "‚óî" "‚óë" "‚óï" "‚óè" "‚óï" "‚óë" "‚óî")
# Block pulsing
TAVS_SPINNER_FRAMES_BLOCK=("‚ñÅ" "‚ñÇ" "‚ñÉ" "‚ñÑ" "‚ñÖ" "‚ñÜ" "‚ñá" "‚ñà" "‚ñá" "‚ñÜ" "‚ñÖ" "‚ñÑ" "‚ñÉ" "‚ñÇ")
# Eye-only animated characters (large variety pool for random selection)
TAVS_SPINNER_FRAMES_EYE_ANIMATE=("‚Ä¢" "‚ó¶" "¬∑" "¬∞" "‚óã" "‚óå" "‚óé" "‚óè" "‚óâ" "‚äô" "‚äö" "‚¶ø" "‚¶æ" "‚óç" "‚óê" "‚óë")

# ==============================================================================
# SPINNER FACE FRAMES (per-agent face outlines for spinner mode)
# ==============================================================================
# When spinner is active, the face's eyes are replaced with spinner frames.
# {L} = left eye placeholder, {R} = right eye placeholder
# These are resolved per-agent like other AGENT_ prefixed variables.

# Claude: Pincer style - ∆é[eyes]E
CLAUDE_SPINNER_FACE_FRAME='∆é[{L} {R}]E'

# Gemini: Bear style -  ïeyes·¥•eyes î
GEMINI_SPINNER_FACE_FRAME=' ï{L}·¥•{R} î'

# Codex: Cat style - ‡∏Ö^eyesÔªåeyes^‡∏Ö
CODEX_SPINNER_FACE_FRAME='‡∏Ö^{L}Ôªå{R}^‡∏Ö'

# OpenCode: Kaomoji style - (eyes-eyes)
OPENCODE_SPINNER_FACE_FRAME='({L}-{R})'

# Unknown/Default: Kaomoji style
UNKNOWN_SPINNER_FACE_FRAME='({L}-{R})'

# Fallback if no agent-specific frame defined
DEFAULT_SPINNER_FACE_FRAME='[{L} {R}]'

# ==============================================================================
# PALETTE THEMING (OSC 4)
# ==============================================================================
# Optional: Modify the terminal's 16-color ANSI palette for cohesive theming.
# This affects shell prompts, ls colors, git status, and 256-color mode apps.
#
# Options:
#   "false" - Disabled (default) - Background colors only
#   "auto"  - Enable if NOT in TrueColor mode (detects COLORTERM)
#   "true"  - Always enable (affects shell tools even in TrueColor)
#
# NOTE: TrueColor (24-bit RGB) applications bypass the palette entirely.
# Claude Code uses TrueColor by default. To enable palette theming for Claude:
#   TERM=xterm-256color COLORTERM= claude
# ==============================================================================
ENABLE_PALETTE_THEMING="false"

# Default 16-Color ANSI Palette - Dark Mode (Catppuccin Frapp√©)
# These are used when ENABLE_PALETTE_THEMING is "true" or "auto" + non-TrueColor
# OSC 4 modifies the terminal's ANSI palette (colors 0-15). This affects
# applications using palette indices (16/256-color mode, ANSI escape codes).
PALETTE_DARK_0="#303446"     # Black (Base)
PALETTE_DARK_1="#e78284"     # Red
PALETTE_DARK_2="#a6d189"     # Green
PALETTE_DARK_3="#e5c890"     # Yellow
PALETTE_DARK_4="#8caaee"     # Blue
PALETTE_DARK_5="#f4b8e4"     # Magenta
PALETTE_DARK_6="#81c8be"     # Cyan
PALETTE_DARK_7="#c6d0f5"     # White (Text)
PALETTE_DARK_8="#51576d"     # Bright Black (Surface1)
PALETTE_DARK_9="#ea999c"     # Bright Red
PALETTE_DARK_10="#a6d189"    # Bright Green
PALETTE_DARK_11="#e5c890"    # Bright Yellow
PALETTE_DARK_12="#8caaee"    # Bright Blue
PALETTE_DARK_13="#f4b8e4"    # Bright Magenta
PALETTE_DARK_14="#81c8be"    # Bright Cyan
PALETTE_DARK_15="#a5adce"    # Bright White (Subtext0)

# Default 16-Color ANSI Palette - Light Mode (Catppuccin Latte)
PALETTE_LIGHT_0="#eff1f5"    # Black (Base)
PALETTE_LIGHT_1="#d20f39"    # Red
PALETTE_LIGHT_2="#40a02b"    # Green
PALETTE_LIGHT_3="#df8e1d"    # Yellow
PALETTE_LIGHT_4="#1e66f5"    # Blue
PALETTE_LIGHT_5="#ea76cb"    # Magenta
PALETTE_LIGHT_6="#179299"    # Cyan
PALETTE_LIGHT_7="#4c4f69"    # White (Text)
PALETTE_LIGHT_8="#bcc0cc"    # Bright Black (Surface1)
PALETTE_LIGHT_9="#e64553"    # Bright Red
PALETTE_LIGHT_10="#40a02b"   # Bright Green
PALETTE_LIGHT_11="#df8e1d"   # Bright Yellow
PALETTE_LIGHT_12="#1e66f5"   # Bright Blue
PALETTE_LIGHT_13="#ea76cb"   # Bright Magenta
PALETTE_LIGHT_14="#179299"   # Bright Cyan
PALETTE_LIGHT_15="#6c6f85"   # Bright White (Subtext0)

# Anthropomorphising (ASCII Faces)
ENABLE_ANTHROPOMORPHISING="true"
FACE_POSITION="before"  # Options: "before", "after"

# Status Icons
STATUS_ICON_PROCESSING="üü†"
STATUS_ICON_PERMISSION="üî¥"
STATUS_ICON_COMPLETE="üü¢"
STATUS_ICON_IDLE="üü£"
STATUS_ICON_COMPACTING="üîÑ"
STATUS_ICON_SUBAGENT="üîÄ"          # Shuffle for parallel work
STATUS_ICON_TOOL_ERROR="‚ùå"        # Cross for tool failures

# Dynamic Mode Settings
HUE_PROCESSING=30      # Orange
HUE_PERMISSION=0       # Red
HUE_COMPLETE=120       # Green
HUE_IDLE=270           # Purple
HUE_COMPACTING=180     # Teal
HUE_SUBAGENT=50        # Golden-yellow (between orange 30 and yellow 60)
HUE_TOOL_ERROR=15      # Orange-red (between red 0 and orange 30)
DYNAMIC_QUERY_TIMEOUT="0.1"
DYNAMIC_DISABLE_SSH="true"

# Idle Timer Configuration
ENABLE_STAGE_INDICATORS="true"
STAGE_DURATIONS=(60 30 30 30 30 30 30)
IDLE_CHECK_INTERVAL=15

# Bell/Notification Settings
ENABLE_BELL_PROCESSING="false"
ENABLE_BELL_PERMISSION="true"
ENABLE_BELL_COMPLETE="false"
ENABLE_BELL_COMPACTING="false"
ENABLE_BELL_SUBAGENT="false"
ENABLE_BELL_TOOL_ERROR="false"

# Advanced Settings
DEBUG_ALL="0"
IDLE_DEBUG="0"
STATE_GRACE_PERIOD_MS=400

# Stylish Backgrounds (Images)
ENABLE_STYLISH_BACKGROUNDS="false"
STYLISH_BACKGROUNDS_DIR="$HOME/.tavs/backgrounds"
STYLISH_SINGLE_IMAGE=""
STYLISH_DISABLE_SSH="true"
STYLISH_SKIP_BG_TINT="false"

# iTerm2-Specific Settings
ITERM2_IMAGE_MODE="aspect_fill"

# Kitty-Specific Settings
KITTY_IMAGE_LAYOUT="scaled"
KITTY_IMAGE_TINT="0.8"

# ==============================================================================
# DEFAULT COLORS (Fallback)
# ==============================================================================
# Used when agent has no specific colors defined.
# Palette: Catppuccin Frapp√© (dark) / Latte (light)

# --- Dark Mode Background Colors ---
DEFAULT_DARK_BASE="#303446"
DEFAULT_DARK_PROCESSING="#3d3b42"
DEFAULT_DARK_PERMISSION="#3d3440"
DEFAULT_DARK_COMPLETE="#374539"
DEFAULT_DARK_IDLE="#3d3850"
DEFAULT_DARK_COMPACTING="#334545"
DEFAULT_DARK_SUBAGENT="#42402E"    # NEW: Golden-yellow for subagent work
DEFAULT_DARK_TOOL_ERROR="#4A2A1F"  # NEW: Orange-red for tool failures

# --- Light Mode Background Colors ---
DEFAULT_LIGHT_BASE="#eff1f5"
DEFAULT_LIGHT_PROCESSING="#f5e6dc"
DEFAULT_LIGHT_PERMISSION="#f5dde0"
DEFAULT_LIGHT_COMPLETE="#e5f0e5"
DEFAULT_LIGHT_IDLE="#ebe5f5"
DEFAULT_LIGHT_COMPACTING="#e0f0f0"
DEFAULT_LIGHT_SUBAGENT="#F5F0D0"   # NEW: Warm yellow for subagent work
DEFAULT_LIGHT_TOOL_ERROR="#B87050" # NEW: Light orange-red for tool failures

# --- Muted Colors for TrueColor Terminals ---
# These colors have reduced contrast for switching in TrueColor mode.
# Dark muted: lighter than normal dark (~40-45% lightness)
# Light muted: darker than normal light (~55-60% lightness)
# Both converge toward middle tones for minimal jarring when switching.

# Muted Dark Mode (lighter dark - closer to mid-gray)
# Original dark values preserved in comments
DEFAULT_MUTED_DARK_BASE="#4a4e5c"        # was #303446
DEFAULT_MUTED_DARK_PROCESSING="#5a5650"  # was #3d3b42
DEFAULT_MUTED_DARK_PERMISSION="#5a4a4c"  # was #3d3440
DEFAULT_MUTED_DARK_COMPLETE="#4f5a52"    # was #374539
DEFAULT_MUTED_DARK_IDLE="#544f62"        # was #3d3850
DEFAULT_MUTED_DARK_COMPACTING="#4a5858"  # was #334545
DEFAULT_MUTED_DARK_SUBAGENT="#5a5848"    # was #42402E
DEFAULT_MUTED_DARK_TOOL_ERROR="#6a4a3f"  # was #4A2A1F

# Muted Light Mode (darker light - closer to mid-gray)
# Original light values preserved in comments
DEFAULT_MUTED_LIGHT_BASE="#b8bac2"       # was #eff1f5
DEFAULT_MUTED_LIGHT_PROCESSING="#c9b8a8" # was #f5e6dc
DEFAULT_MUTED_LIGHT_PERMISSION="#c9a8ac" # was #f5dde0
DEFAULT_MUTED_LIGHT_COMPLETE="#a8c2a8"   # was #e5f0e5
DEFAULT_MUTED_LIGHT_IDLE="#b8aac8"       # was #ebe5f5
DEFAULT_MUTED_LIGHT_COMPACTING="#a8c2c2" # was #e0f0f0
DEFAULT_MUTED_LIGHT_SUBAGENT="#c8c4a0"   # was #F5F0D0
DEFAULT_MUTED_LIGHT_TOOL_ERROR="#c09070" # was #B87050

# ==============================================================================
# AGENT: CLAUDE CODE
# ==============================================================================
CLAUDE_AGENT_NAME="Claude Code"

# Background Colors - Dark Mode (Catppuccin Frappe with Anthropic purple accents)
CLAUDE_DARK_BASE="#2E3440"
CLAUDE_DARK_PROCESSING="#473D2F"
CLAUDE_DARK_PERMISSION="#4A2021"
CLAUDE_DARK_COMPLETE="#473046"
CLAUDE_DARK_IDLE="#443147"
CLAUDE_DARK_COMPACTING="#2B4645"
CLAUDE_DARK_SUBAGENT="#484530"     # Golden-yellow for subagent work
CLAUDE_DARK_TOOL_ERROR="#4A2A1F"   # Orange-red for tool failures

# Background Colors - Light Mode
CLAUDE_LIGHT_BASE="#ECEFF4"
CLAUDE_LIGHT_PROCESSING="#F5E0D0"
CLAUDE_LIGHT_PERMISSION="#F5D0D0"
CLAUDE_LIGHT_COMPLETE="#E8E0F0"
CLAUDE_LIGHT_IDLE="#E8E0F0"
CLAUDE_LIGHT_COMPACTING="#D8F0F0"
CLAUDE_LIGHT_SUBAGENT="#F5ECD0"    # Warm yellow for subagent work
CLAUDE_LIGHT_TOOL_ERROR="#B87050"  # Light orange-red for tool failures

# Faces - Combined claudA-F pincer variants (6 per state for randomization)
CLAUDE_FACES_PROCESSING=(
    '∆é[‚Ä¢ ‚Ä¢]E'
    '∆é[‚Ä¢ ‚óï]E'
    '∆é[‚ñ† ‚ñ†]E'
    '∆é[‚óî ‚óî]E'
    '∆é[ÔΩ° ÔΩ°]E'
    '∆é[. .]E'
)
CLAUDE_FACES_PERMISSION=(
    '∆é[¬∞ ¬∞]E'
    '∆é[‚óã ‚óã]E'
    '∆é[‚ñ° ‚ñ°]E'
    '∆é[ ò  ò]E'
    '∆é[’û ’û]E'
    '∆é[o o]E'
)
CLAUDE_FACES_COMPLETE=(
    '∆é[‚ú¶ ‚ú¶]E'
    '∆é[‚òÖ ‚òÖ]E'
    '∆é[‚úß ‚úß]E'
    '∆é[‚ùÄ ‚ùÄ]E'
    '∆é[‚úø ‚úø]E'
    '∆é[* *]E'
)
CLAUDE_FACES_COMPACTING=(
    '∆é[@ @]E'
    '∆é[‚óé ‚óé]E'
    '∆é[‚ñ£ ‚ñ£]E'
    '∆é[√ó √ó]E'
    '∆é[Ôº† Ôº†]E'
    '∆é[@ @]E'
)
CLAUDE_FACES_RESET=(
    '∆é[‚Ä¢ ‚Ä¢]E'
    '∆é[‚Ä¢ ‚Ä¢]E'
    '∆é[‚ñ† ‚ñ†]E'
    '∆é[‚óî ‚óî]E'
    '∆é[ÔΩ° ÔΩ°]E'
    '∆é[. .]E'
)
CLAUDE_FACES_IDLE_0=(
    '∆é[‚óï ‚óï]E'
    '∆é[‚óâ ‚óâ]E'
    '∆é[‚ñ¢ ‚ñ¢]E'
    '∆é[‚óç ‚óç]E'
    '∆é[‚ó† ‚ó†]E'
    '∆é[O O]E'
)
CLAUDE_FACES_IDLE_1=(
    '∆é[‚Ä¢ ‚Ä¢]E'
    '∆é[‚Ä¢ ‚Ä¢]E'
    '∆é[‚ñ† ‚ñ†]E'
    '∆é[‚Ä¢ ‚Ä¢]E'
    '∆é[ÔΩ° ÔΩ°]E'
    '∆é[. .]E'
)
CLAUDE_FACES_IDLE_2=(
    '∆é[·¥ó ·¥ó]E'
    '∆é[·µï ·µï]E'
    '∆é[‚ñ± ‚ñ±]E'
    '∆é[·µî ·µî]E'
    '∆é[·µï ·µï]E'
    '∆é[^ ^]E'
)
CLAUDE_FACES_IDLE_3=(
    '∆é[¬¨ ¬¨]E'
    '∆é[Ôø¢ Ôø¢]E'
    '∆é[‚ñ® ‚ñ®]E'
    '∆é[‡≤† ‡≤†]E'
    '∆é[‚å£ ‚å£]E'
    '∆é[- -]E'
)
CLAUDE_FACES_IDLE_4=(
    '∆é[- -]E zZ'
    '∆é[Ôºç Ôºç]E zZ'
    '∆é[‚îÄ ‚îÄ]E zZ'
    '∆é[‚à™ ‚à™]E zZ'
    '∆é[·¥ó ·¥ó]E zZ'
    '∆é[- -]E zZ'
)
CLAUDE_FACES_IDLE_5=(
    '∆é[= =]E ·∂ª·∂ª'
    '∆é[Ôºø Ôºø]E ·∂ª·∂ª'
    '∆é[‚ïê ‚ïê]E ·∂ª·∂ª'
    '∆é[‚à© ‚à©]E ·∂ª·∂ª'
    '∆é[Ô∏∂ Ô∏∂]E ·∂ª·∂ª'
    '∆é[_ _]E ·∂ª·∂ª'
)
# NEW: Subagent faces - arrows/parallel indicators
CLAUDE_FACES_SUBAGENT=(
    '∆é[‚áÜ ‚áÜ]E'
    '∆é[‚Üî ‚Üî]E'
    '∆é[‚ü∫ ‚ü∫]E'
    '∆é[‚áÑ ‚áÑ]E'
    '∆é[‚Ü∫ ‚Ü∫]E'
    '∆é[‚ü≥ ‚ü≥]E'
)
# NEW: Tool error faces - X marks
CLAUDE_FACES_TOOL_ERROR=(
    '∆é[‚úï ‚úï]E'
    '∆é[√ó √ó]E'
    '∆é[‚úó ‚úó]E'
    '∆é[‚®Ø ‚®Ø]E'
    '∆é[‚úñ ‚úñ]E'
    '∆é[‚ï≥ ‚ï≥]E'
)

# ==============================================================================
# AGENT: GEMINI CLI
# ==============================================================================
GEMINI_AGENT_NAME="Gemini CLI"

# Background Colors - Dark Mode (Cooler tones, Google blue influence)
GEMINI_DARK_BASE="#2B3540"
GEMINI_DARK_PROCESSING="#3D4A47"
GEMINI_DARK_PERMISSION="#4A2028"
GEMINI_DARK_COMPLETE="#304640"
GEMINI_DARK_IDLE="#3B3F4A"
GEMINI_DARK_COMPACTING="#264548"
GEMINI_DARK_SUBAGENT="#404838"
GEMINI_DARK_TOOL_ERROR="#4A2A1F"

# Background Colors - Light Mode
GEMINI_LIGHT_BASE="#EBF0F4"
GEMINI_LIGHT_PROCESSING="#D8E8E0"
GEMINI_LIGHT_PERMISSION="#F0D0D8"
GEMINI_LIGHT_COMPLETE="#D0F0E8"
GEMINI_LIGHT_IDLE="#D8E0F5"
GEMINI_LIGHT_COMPACTING="#D0F0F5"
GEMINI_LIGHT_SUBAGENT="#EEF0D0"
GEMINI_LIGHT_TOOL_ERROR="#B87050"

# Faces - Bear style
GEMINI_FACES_PROCESSING=(' ï‚Ä¢·¥•‚Ä¢ î')
GEMINI_FACES_PERMISSION=(' ï‡πè·¥•‡πè î')
GEMINI_FACES_COMPLETE=(' ï‚ô•·¥•‚ô• î')
GEMINI_FACES_COMPACTING=(' ï‚Ä¢_‚Ä¢ î')
GEMINI_FACES_RESET=(' ï-·¥•- î')
GEMINI_FACES_IDLE_0=(' ï‚Ä¢·¥•‚Ä¢ î')
GEMINI_FACES_IDLE_1=(' ï‚Äæ·¥•‚Äæ î')
GEMINI_FACES_IDLE_2=(' ïÔ∏∂·¥•Ô∏∂ î')
GEMINI_FACES_IDLE_3=(' ï¬¨·¥•¬¨ î')
GEMINI_FACES_IDLE_4=(' ï-·¥•- îzZ')
GEMINI_FACES_IDLE_5=(' ïÔ∏∂·¥•Ô∏∂ î·∂ª·∂ª')
GEMINI_FACES_SUBAGENT=(' ï‚áÜ·¥•‚áÜ î')
GEMINI_FACES_TOOL_ERROR=(' ï‚úï·¥•‚úï î')

# ==============================================================================
# AGENT: CODEX CLI
# ==============================================================================
CODEX_AGENT_NAME="Codex CLI"

# Background Colors - Dark Mode (Neutral, desaturated tones)
CODEX_DARK_BASE="#303035"
CODEX_DARK_PROCESSING="#454035"
CODEX_DARK_PERMISSION="#452830"
CODEX_DARK_COMPLETE="#354538"
CODEX_DARK_IDLE="#3A3540"
CODEX_DARK_COMPACTING="#304040"
CODEX_DARK_SUBAGENT="#454030"
CODEX_DARK_TOOL_ERROR="#4A2A1F"

# Background Colors - Light Mode
CODEX_LIGHT_BASE="#F0F0F2"
CODEX_LIGHT_PROCESSING="#E8E0D8"
CODEX_LIGHT_PERMISSION="#E8D8D8"
CODEX_LIGHT_COMPLETE="#D8E8D8"
CODEX_LIGHT_IDLE="#E0D8E8"
CODEX_LIGHT_COMPACTING="#D8E8E8"
CODEX_LIGHT_SUBAGENT="#F0ECD0"
CODEX_LIGHT_TOOL_ERROR="#B87050"

# Faces - Cat style
CODEX_FACES_PROCESSING=('‡∏Ö^‚Ä¢Ôªå‚Ä¢^‡∏Ö')
CODEX_FACES_PERMISSION=('‡∏Ö^‚óâÔªå‚óâ^‡∏Ö')
CODEX_FACES_COMPLETE=('‡∏Ö^‚ô•Ôªå‚ô•^‡∏Ö')
CODEX_FACES_COMPACTING=('‡∏Ö^‚Ä¢_‚Ä¢^‡∏Ö')
CODEX_FACES_RESET=('‡∏Ö^-Ôªå-^‡∏Ö')
CODEX_FACES_IDLE_0=('‡∏Ö^‚Ä¢Ôªå‚Ä¢^‡∏Ö')
CODEX_FACES_IDLE_1=('‡∏Ö^‚ÄæÔªå‚Äæ^‡∏Ö')
CODEX_FACES_IDLE_2=('‡∏Ö^Ô∏∂ÔªåÔ∏∂^‡∏Ö')
CODEX_FACES_IDLE_3=('‡∏Ö^¬¨Ôªå¬¨^‡∏Ö')
CODEX_FACES_IDLE_4=('‡∏Ö^-Ôªå-^‡∏ÖzZ')
CODEX_FACES_IDLE_5=('‡∏Ö^Ô∏∂ÔªåÔ∏∂^‡∏Ö·∂ª·∂ª')
CODEX_FACES_SUBAGENT=('‡∏Ö^‚áÜÔªå‚áÜ^‡∏Ö')
CODEX_FACES_TOOL_ERROR=('‡∏Ö^‚úïÔªå‚úï^‡∏Ö')

# ==============================================================================
# AGENT: OPENCODE
# ==============================================================================
OPENCODE_AGENT_NAME="OpenCode"

# Background Colors - Dark Mode (Warmer tones, amber/earth feel)
OPENCODE_DARK_BASE="#3A3530"
OPENCODE_DARK_PROCESSING="#504030"
OPENCODE_DARK_PERMISSION="#502520"
OPENCODE_DARK_COMPLETE="#404538"
OPENCODE_DARK_IDLE="#453840"
OPENCODE_DARK_COMPACTING="#354540"
OPENCODE_DARK_SUBAGENT="#4A4528"
OPENCODE_DARK_TOOL_ERROR="#4A2A1F"

# Background Colors - Light Mode
OPENCODE_LIGHT_BASE="#F5F0E8"
OPENCODE_LIGHT_PROCESSING="#F8E0C8"
OPENCODE_LIGHT_PERMISSION="#F8D0C8"
OPENCODE_LIGHT_COMPLETE="#E8F0D8"
OPENCODE_LIGHT_IDLE="#F0E0E8"
OPENCODE_LIGHT_COMPACTING="#E0F0E8"
OPENCODE_LIGHT_SUBAGENT="#F8F0C8"
OPENCODE_LIGHT_TOOL_ERROR="#B87050"

# Faces - Minimal kaomoji
OPENCODE_FACES_PROCESSING=('(¬∞-¬∞)')
OPENCODE_FACES_PERMISSION=('(¬∞‚ñ°¬∞)')
OPENCODE_FACES_COMPLETE=('(^‚Äø^)')
OPENCODE_FACES_COMPACTING=('(@_@)')
OPENCODE_FACES_RESET=('(-_-)')
OPENCODE_FACES_IDLE_0=('(‚Ä¢‚Äø‚Ä¢)')
OPENCODE_FACES_IDLE_1=('(‚Äø‚Äø)')
OPENCODE_FACES_IDLE_2=('(Ô∏∂‚ÄøÔ∏∂)')
OPENCODE_FACES_IDLE_3=('(¬¨‚Äø¬¨)')
OPENCODE_FACES_IDLE_4=('(-.-)zzZ')
OPENCODE_FACES_IDLE_5=('(Ô∏∂.Ô∏∂)·∂ª·∂ª')
OPENCODE_FACES_SUBAGENT=('(‚áÜ-‚áÜ)')
OPENCODE_FACES_TOOL_ERROR=('(‚úï_‚úï)')

# ==============================================================================
# AGENT: UNKNOWN (Fallback for unrecognized agents)
# ==============================================================================
UNKNOWN_AGENT_NAME="Unknown Agent"

# Colors - Uses DEFAULT_* colors (both background and foreground)

# Faces - Minimal kaomoji (same as OpenCode for universal compatibility)
UNKNOWN_FACES_PROCESSING=('(¬∞-¬∞)')
UNKNOWN_FACES_PERMISSION=('(¬∞‚ñ°¬∞)')
UNKNOWN_FACES_COMPLETE=('(^‚Äø^)')
UNKNOWN_FACES_COMPACTING=('(@_@)')
UNKNOWN_FACES_RESET=('(-_-)')
UNKNOWN_FACES_IDLE_0=('(‚Ä¢‚Äø‚Ä¢)')
UNKNOWN_FACES_IDLE_1=('(‚Äø‚Äø)')
UNKNOWN_FACES_IDLE_2=('(Ô∏∂‚ÄøÔ∏∂)')
UNKNOWN_FACES_IDLE_3=('(¬¨‚Äø¬¨)')
UNKNOWN_FACES_IDLE_4=('(-.-)zzZ')
UNKNOWN_FACES_IDLE_5=('(Ô∏∂.Ô∏∂)·∂ª·∂ª')
UNKNOWN_FACES_SUBAGENT=('(‚áÜ-‚áÜ)')
UNKNOWN_FACES_TOOL_ERROR=('(‚úï_‚úï)')
