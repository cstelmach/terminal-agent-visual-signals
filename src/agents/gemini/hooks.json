{
  "_comment": "Gemini CLI Hooks Configuration for Terminal Visual Signals",
  "_documentation": "See HOOKS_REFERENCE.md in this directory for detailed documentation",
  "_version": "2.1.0",
  "_updated": "2026-01-26",
  "hooks": {
    "SessionStart": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh reset",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh reset",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ],
    "BeforeAgent": [
      {
        "_comment": "Fires ONCE when user submits prompt - perfect for processing signal",
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh processing",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ],
    "BeforeTool": [
      {
        "_comment": "Maintains processing state during tool execution",
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh processing",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ],
    "AfterTool": [
      {
        "_comment": "Maintains processing state between tool calls",
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh processing",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ],
    "AfterAgent": [
      {
        "_comment": "Fires ONCE when agent loop completes - perfect for complete signal",
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh complete",
            "async": true,
            "timeout": 10
          }
        ]
      }
    ],
    "PreCompress": [
      {
        "_comment": "Before context compression (manual or auto at 70% threshold)",
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh compacting",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ],
    "Notification": [
      {
        "_comment": "Permission requests - when tool needs user approval",
        "matcher": "ToolPermission",
        "hooks": [
          {
            "type": "command",
            "command": "${GEMINI_EXTENSION_ROOT}/src/agents/gemini/trigger.sh permission",
            "async": true,
            "timeout": 5
          }
        ]
      }
    ]
  },
  "_removed_hooks": {
    "BeforeModel": "REMOVED: Fires MULTIPLE times per agent loop - too noisy for visual signals",
    "AfterModel": "NOT USED: Fires MULTIPLE times per agent loop - causes excessive state changes"
  }
}
